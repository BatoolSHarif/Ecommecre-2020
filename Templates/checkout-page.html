{%extends 'base.html'%}
{% block content %}
{% load static %}

<main>
        <!-- Heading -->
        <h2 class="my-9 h2 text-center">Checkout form</h2>
        <!--Grid row-->
        <div class="site-section">
          <div class="container">
            <div class="row">
              <div class="col-lg-12 mb-5" >
        <div class="row">
          <div class="col-md-8 mb-4">
            <!--Card-->
            <div class="card ">
              <!--Card content-->
              <form method="POST" class="card-body" action="{% url 'checkout-url'%}">
                  {% csrf_token %}
                <!--address-2-->
                <div class="form-group row">  
                  <div class="col-md-6 mb-4 mb-lg-0">
                  
                  <div>Address*</div>
                  <input type='text'  placeholder='1234 Main St' id='shipping_address' name='address' class='form-control mx-auto"' />
                  <label for="shipping_address" class=""></label>
                </div></div>


                <div class="form-group row">  
                  <div class="col-md-6 mb-4 mb-lg-0">
                  <div>Address 2 (optional)</div>
                  <input type='text' placeholder='Apartment or suite' id='shipping_address2' name='address2' class='form-control text-center"' />
                  <label for="shipping_address2" class=""></label>
                </div></div>


                <div class="form-group row">  
                  <div class="col-md-6 mb-4 mb-lg-0">
                    <label for="id_country">Country:</label>
                    <select class="form-control" name="country" id="id_country"required>
                    <option value="{{ form.country }}"></option>
                    </select>
                    <div class="invalid-feedback">
                      Please select a valid country.
                    </div>
                  </div></div>

                  <div class="form-group row">  
                    <div class="col-md-6 mb-4 mb-lg-0">
                  <label for="id_city">City:</label> 
                    <select class="form-control" name="city" id="id_city"required>
                  <option value="{{ form.city }}"></option>
                  </select>
                  <div class="invalid-feedback">
                        Please select a valid city.
                      </div>
                      </div>
                  </div>

                  <div class="form-group row">  
                  <div class="col-md-6 mb-4 mb-lg-0">
                  <div>   Phone Number :</div>
                  <input type='text'id='pn_id' name='phone_number' class='form-control center' placeholder="07XX XXX XXX">
                  <label for="pn_id" class=""></label>
                  </div>
                  </div>

                  <div class="form-group row">  
                    <div class="col-md-6 mb-4 mb-lg-0">
                  <input class="btn  btn-lg btn-block" style="background-color: rgb(7, 114, 255); color: white;" type="submit" value="Continue to checkout">
                    </div></div>
              </form>
  
            </div>
            <!--/.Card-->
  
          </div>

         
          <div class="card" style="width: 250px;">
            <div class="card-header" style="background-color:rgb(7, 114, 255); color: white;">
             Your Order :
            </div>
            <ul class="list-group list-group-flush">
              {% for order_item in order.items.all %}
              <li class="list-group-item">{{order_item.quantity}}x{{order_item.item.title}}
                <span class="text-muted">item price: {{order_item.item.price}}JD</span></h5>
              </li>
              {%endfor%}
              <li class="list-group-item">Total Price : {{order.final_price}}JD's</li>
            </ul>
          </div>


          </div>
        </div>
        </div></div></div></div>
    </main>
    <!--Main layout-->  
  </html>{%endblock%}